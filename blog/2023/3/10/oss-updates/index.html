<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Touchlab Blog | Kevin Galligan</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kpgalligan.github.io/blog/2023/3/10/oss-updates"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="robots" content="noindex,follow"><meta data-rh="true" property="og:image" content="https://kpgalligan.github.io/img/open-source-updates-v1.png"><meta data-rh="true" name="twitter:image" content="https://kpgalligan.github.io/img/open-source-updates-v1.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-03-10T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://www.kgalligan.com"><meta data-rh="true" property="og:title" content="Touchlab Blog | Kevin Galligan"><meta data-rh="true" name="description" content="Our deepest thoughts"><meta data-rh="true" property="og:description" content="Our deepest thoughts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kpgalligan.github.io/blog/2023/3/10/oss-updates"><link data-rh="true" rel="alternate" href="https://kpgalligan.github.io/blog/2023/3/10/oss-updates" hreflang="en"><link data-rh="true" rel="alternate" href="https://kpgalligan.github.io/blog/2023/3/10/oss-updates" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kevin Galligan RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kevin Galligan Atom Feed"><link rel="stylesheet" href="/assets/css/styles.69521640.css">
<link rel="preload" href="/assets/js/runtime~main.8841b053.js" as="script">
<link rel="preload" href="/assets/js/main.d8961ff4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="preflight-wrapper"><header class="absolute w-full z-10"><div class="fixed md:relative w-full"><div class="from-black z-20 to-transparent bg-gradient-to-b w-full absolute top-0 left-0 opacity-70 md:opacity-30 pointer-events-none h-24 md:h-20"></div><div class="relative max-w-6xl mx-auto px-4 sm:px-6 z-50"><div class="flex items-center justify-between h-20"><div class="flex-initial w-56 justify-start"><a class="block" href="/"><img src="/assets/images/doglogo-b821c7d5ebf2c7c9cd9f9c061ffd3c38.png" class="h-12"></a></div><nav class="hidden md:flex md:grow"><ul class="flex grow justify-center flex-wrap items-centerfalse"><li><a class="text-gray-300 hover:text-cyan-300 font-bold px-4 py-2 flex items-center transition duration-150 ease-in-out" href="/">Home</a></li><li><a class="text-gray-300 hover:text-cyan-300 font-bold px-4 py-2 flex items-center transition duration-150 ease-in-out" href="/blog">Blog</a></li></ul><ul class="flex flex-initial w-56 justify-end flex-wrap items-center"></ul></nav><div class="md:hidden"><button class="bg-opacity-0 bg-gray-900 hamburger false" aria-controls="mobile-nav" aria-expanded="false"><span class="sr-only">Menu</span><svg class="w-6 h-6 fill-current text-gray-300 hover:text-gray-200 transition duration-150 ease-in-out" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect y="4" width="24" height="2" rx="1"></rect><rect y="11" width="24" height="2" rx="1"></rect><rect y="18" width="24" height="2" rx="1"></rect></svg></button><nav id="mobile-nav" class="absolute top-full z-20 left-0 w-full px-4 sm:px-6 hidden"><ul class="bg-gray-800 bg-opacity-90 px-4 py-2"><li><a class="flex text-cyan-200 hover:text-cyan-200 py-2 px-4 text-2xl" href="/">Home</a></li><li><a class="flex text-cyan-200 hover:text-cyan-200 py-2 px-4 text-2xl" href="/blog">Blog</a></li></ul></nav></div></div></div></div></header></div><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="preflight-wrapper"><section><div class="max-w-6xl mx-auto"><div class="pt-10 md:pt-16"></div></div></section><div class="mt-8 max-w-6xl mx-auto px-4 sm:px-6 relative"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://kpgalligan.github.io/img/open-source-updates-v1.png"><div class="max-w-4xl mx-auto md:max-w-none items-center flex flex-col"><h2 class="h2 mb-0 max-w-4xl mx-auto">Open Source Updates</h2></div><div class="max-w-5xl mx-auto lg:items-center flex lg:flex-row flex-col mt-4"><div class="flex flex-col lg:flex-row lg:items-center lg:mb-2 grow"><div class="w-full flex flex-row items-center content-center"><div class="mr-4 my-2"><div class="flex flex-row items-center"><img class="rounded-full shrink-0 mr-2" src="https://github.com/kpgalligan.png" width="40" height="40" alt="Kevin Galligan"><span itemprop="name">Kevin Galligan</span></div></div><time datetime="2023-03-10T00:00:00.000Z" itemprop="datePublished" class="text-gray-400">March 10, 2023</time></div></div><div class="mb-3 mt-4 lg:mt-0"><ul class="flex flex-wrap text-xs font-medium -m-1"></ul></div></div><div class="mb-8 mt-4"><img class="w-full object-cover" src="/img/open-source-updates-v1.png"></div><div class="w-full lg:max-w-4xl mx-auto items-center flex flex-col"><div id="post-content" class="markdown w-full" itemprop="articleBody"><p>We&#x27;ve been heads down for the last few months working on our new professional offerings: <a href="https://get.touchlab.co/skie-touchlab-pro/" target="_blank" rel="noopener noreferrer">SKIE and Touchlab Pro</a>. We&#x27;ll be posting about them soon. While that work has been the major focus, our open source projects have been mostly getting critical updates. As our new projects have been nearing release, we&#x27;ve finished a bunch of updates to our open source libraries.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kmmbridge"><a href="https://kmmbridge.touchlab.co/" target="_blank" rel="noopener noreferrer">KMMBridge</a><a href="#kmmbridge" class="hash-link" aria-label="Direct link to kmmbridge" title="Direct link to kmmbridge">​</a></h2><p>We&#x27;ve had a few tweaks and updates pending for some time. Those have been pushed with version <a href="https://github.com/touchlab/KMMBridge/releases/tag/0.3.7" target="_blank" rel="noopener noreferrer">0.3.7</a>.</p><p>One of the less visible but really important changes is a flag that disables a lot of the &quot;stuff&quot; that needs to happen when actually publishing versions. If you opened a project with earlier versions of KMMBridge on a dev machine, several things might happen in the background that really don&#x27;t need to. Now they won&#x27;t.</p><p>Also, if you happen to use S3 as your publish target, there&#x27;s a bug in the default AWS SDK. This version should fix that for you.</p><p>Finally, the website has been updated: <a href="https://kmmbridge.touchlab.co/" target="_blank" rel="noopener noreferrer">kmmbridge.touchlab.co</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kermit"><a href="https://kermit.touchlab.co/" target="_blank" rel="noopener noreferrer">Kermit</a><a href="#kermit" class="hash-link" aria-label="Direct link to kermit" title="Direct link to kermit">​</a></h2><p>Kermit&#x27;s API has gone through a fairly significant update. We&#x27;ve released <a href="https://github.com/touchlab/Kermit/releases/tag/2.0.0-RC3" target="_blank" rel="noopener noreferrer">2.0.0-RC3</a> with the new changes. Feedback is welcome.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-api">New API<a href="#new-api" class="hash-link" aria-label="Direct link to New API" title="Direct link to New API">​</a></h3><p>1.x versions had a <code>Logger</code> API that was designed to be called from non-Kotlin environments. For the most part, that meant avoiding default parameters. However, the primary use case is calling from Kotlin. The primary <code>Logger</code> API was updated to be (mostly) source compatible, but now include simpler method definitions with default parameters.</p><p>In simple terms, that means all log calls can have message, a <code>Throwable</code>, and a tag specified.</p><p>For non-Kotlin environments such as Swift and JS, you can export <code>kermit-simple</code>, which provides extension methods to make calling less verbose from those environments (without default parameter support, you&#x27;d need to provide each value on each call).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-api">Custom API<a href="#custom-api" class="hash-link" aria-label="Direct link to Custom API" title="Direct link to Custom API">​</a></h3><p>We had a lot of feedback about Kermit&#x27;s API decisions since releasing it. Some has been incorporated, but some is really just personal preference. For example, full names instead of single letter methods for logging calls (<code>info()</code> instead of <code>i()</code>). You can&#x27;t make everybody happy.</p><p>However, most of the functionality has been moved to the module <code>kermit-core</code>. The <code>kemrit</code> module is now fairly small, and just represents the public <code>Logger</code> API. That means you can add your own <code>Logger</code> API on top of the Kermit internals. See <a href="https://kermit.touchlab.co/docs/details/CUSTOM_API" target="_blank" rel="noopener noreferrer">Custom Logger API</a> for more detail.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="website-update">Website Update<a href="#website-update" class="hash-link" aria-label="Direct link to Website Update" title="Direct link to Website Update">​</a></h3><p>And, of course, the website has been updated: <a href="https://kermit.touchlab.co/" target="_blank" rel="noopener noreferrer">kermit.touchlab.co</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="crashkios"><a href="https://crashkios.touchlab.co/" target="_blank" rel="noopener noreferrer">CrashKiOS</a><a href="#crashkios" class="hash-link" aria-label="Direct link to crashkios" title="Direct link to crashkios">​</a></h2><p>CrashKiOS has had an interesting history. The library allows Crashlytics and Bugsnag to report symbolicated Kotlin crash reports on iOS (and other Darwin/Apple targets). Most of this functionality was moved into Kermit as we had several requests to support Kermit integration.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes">Changes<a href="#changes" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><p>However, crash reporting has other features unrelated to logging, such as custom key/value pairs, and automatically catching hard crashes. Also, <a href="https://github.com/rickclephas/NSExceptionKt" target="_blank" rel="noopener noreferrer">NSExceptionKt</a> tweaked the method being used for reporting hard crashes. This allows reports to be consolidated rather than the earlier dual report method.</p><p>The crash reporting details from Kermit have been moved back into CrashKiOS, and various parts of <code>NSExceptionKt</code> have been integrated, to support crash reporting as a standalone library again. Kermit&#x27;s support has been simplified. You can add log writers for Crashlytics or Bugsnag, but they both delegate to CrashKiOS.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-website">New Website<a href="#new-website" class="hash-link" aria-label="Direct link to New Website" title="Direct link to New Website">​</a></h3><p>Website also updated: <a href="https://crashkios.touchlab.co/" target="_blank" rel="noopener noreferrer">crashkios.touchlab.co</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stately"><a href="https://github.com/touchlab/Stately" target="_blank" rel="noopener noreferrer">Stately</a><a href="#stately" class="hash-link" aria-label="Direct link to stately" title="Direct link to stately">​</a></h2><p>Stately was designed to help developers work with the original strict memory model of Kotlin/Native. That memory model has been deprecated. We&#x27;ve released <a href="https://github.com/touchlab/Stately/releases/tag/1.2.5" target="_blank" rel="noopener noreferrer">one last version of the original Stately</a> built on 1.8.0, for teams that aren&#x27;t ready to update everything and who would like to continue using Stately as it was in earlier Kotlin versions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-now">What Now?<a href="#what-now" class="hash-link" aria-label="Direct link to What Now?" title="Direct link to What Now?">​</a></h3><p>Since the strict memory model has been deprecated, Stately&#x27;s future has been up in the air. We internally still find some of the concurrency pieces useful, and with the new memory model, there are some utility classes we wanted to have available. It is likely that newer libraries will better handle these cases in the future, but we&#x27;ve added them to Stately for now.</p><p><code>stately-concurrency</code> contains structures like locks and atomics. There is functionality similar to Atomic-Fu, and we may eventually deprecate this support in Stately, but for now we continue to use it in our projects.</p><p><code>stately-strict</code> contains shared definitions of things like <code>freeze()</code>. This is only for use in projects that still have this code in their projects and don&#x27;t want to remove it. Most projects will be running on the new memory model, and <code>freeze()</code> won&#x27;t really do anything.</p><p><code>stately-concurrent-collections</code> is a simple implementation of thread-safe collections. We anticipate somebody will eventually release something more robust, but for now, you can easily include this module to have shared collections in your project.</p><p>Stately did <em>not</em> get a website refresh. The future utility of Stately is up in the air, so we didn&#x27;t prioritize the website update.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-sites">Documentation Sites<a href="#documentation-sites" class="hash-link" aria-label="Direct link to Documentation Sites" title="Direct link to Documentation Sites">​</a></h2><p>We&#x27;ve moved several of our open source projects&#x27; documentation to <a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer">Docusaurus</a>. I have been pretty skeptical of these kinds of site generators, but finally took a look at Docusaurus after several team members mentioned it as an option.</p><p>It is one of my favorite things now. I&#x27;ve even moved my personal site to Docusaurus, just for the blog.</p><p>There&#x27;s too much going on to explain <em>why</em> I love it, but some highlights (some Docusaurus-specific, some just neat hacks)</p><ul><li>Docusaurus let&#x27;s you create custom react components and use them directly in markdown, so we can extend the markdown syntax easily</li><li>Dark and light mode</li><li>Code style is highly customizable. Kotlin code has Intellij/Android Studio colors, while Swift looks like Xcode (see <a href="https://kermit.touchlab.co/docs/configuration/NON_KOTLIN" target="_blank" rel="noopener noreferrer">Kermit docs</a>)</li><li>Our doc build process auto-replaces version strings into code samples. This isn&#x27;t Dosusaurus specific, but a nice add on. The CI process gets the latest published release string and replaces a template string in the markdown. Anything in <code>gradle.properties</code> can be swapped as well.</li></ul><p>It&#x27;s easy to tweak and extend. It&#x27;s just great.</p><p>The home page of each doc site is now using a simple react template (from <a href="https://cruip.com/" target="_blank" rel="noopener noreferrer">cruip.com</a>). That uses tailwind CSS, which is the other new (to me) web thing I&#x27;m in love with now. Although there&#x27;s <a href="https://github.com/facebook/docusaurus/issues/2961" target="_blank" rel="noopener noreferrer">been discussion</a>, Docusaurus doesn&#x27;t have a tailwind theme, so the CSS is bit of a blended hack. Once you get started, though, its really easy to develop with it.</p></div></div><div class="max-w-2xl mx-auto md:max-w-none items-center"><div id="commento"></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2023/02/28/medical-update"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Medical Update</div></a></nav></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Kevin Galligan</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kgalligan.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://touchlab.co/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Touchlab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/kpgalligan" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Kevin Galligan</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8841b053.js"></script>
<script src="/assets/js/main.d8961ff4.js"></script>
</body>
</html>